<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.notice">

   <!--  목록 -->
   <select id="noticeList" resultType="noticeVO">
   select 
   notice_no, notice_title, notice_content,mem_id,notice_date,notice_hits
	from gogi_notice_board
</select>
   
   <!-- 게시물 총 갯수 확인 -->
<!-- 번호만 있으면 확인 가능해 매개변수 타입 정수로 설정 -->
<select id="noticeListCount" resultType="int">
 select count(notice_no) from gogi_notice_board
 where notice_no > 0
</select>

   
   
   
    <!-- 작성 -->
   <insert id="noticeWrite">
    insert into gogi_notice_board(notice_no, notice_title, notice_content,mem_id)
        values (seq_notice.nextval, #{notice_title}, #{notice_content}, #{mem_id})
 	</insert>
   
   <!-- 조회 -->
   <select id="noticeRead" resultType="noticeVO" parameterType="int">
	select notice_no, notice_title, notice_content,mem_id, notice_date,notice_hits
	from gogi_notice_board
	where notice_no = #{notice_no}
   </select>
   
   <!-- 조회수  -->
 <update id="updateNoticeViewCnt">
    update gogi_notice_board
    set notice_hits = notice_hits +1
    where notice_no = #{notice_no}
</update>

   <!-- 수정 -->   
   <update id="noticeUpdate">
    update gogi_notice_board
     set
      notice_title = #{notice_title},
      NOTICE_CONTENT = #{NOTICE_CONTENT}
  where notice_no = #{notice_no}
   </update>
   
   <!-- 삭제 -->
   <delete id="noticeDelete">
    delete from
    gogi_notice_board
  where notice_no = #{notice_no}
   </delete>
   
</mapper>